<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="ModDota" href="/opensearch.xml"><title data-react-helmet="true">Particle Attachment | ModDota</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Particle Attachment | ModDota"><meta data-react-helmet="true" name="description" content="Particle Types"><meta data-react-helmet="true" property="og:description" content="Particle Types"><meta data-react-helmet="true" property="og:url" content="https://moddota.com/scripting/particle-attachment"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://moddota.com/scripting/particle-attachment"><link rel="stylesheet" href="/styles.feceb74b.css">
<link rel="stylesheet" href="/main.8db07b0a.css">
<link rel="preload" href="/styles.3ddff82c.js" as="script">
<link rel="preload" href="/runtime~main.664ba720.js" as="script">
<link rel="preload" href="/main.cd2666c9.js" as="script">
<link rel="preload" href="/1.121d2a65.js" as="script">
<link rel="preload" href="/2.37db2c14.js" as="script">
<link rel="preload" href="/1be78505.25cc5caf.js" as="script">
<link rel="preload" href="/ec1ed54d.b1d23cdd.js" as="script">
<link rel="preload" href="/0bf7c9ac.0c1fde3e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a><a class="navbar__item navbar__link" href="/tutorials">Tutorials</a><a href="https://dota.tools/vscripts/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Lua API</a><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Panorama API</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo-80x80.png"><strong class="navbar__title">ModDota</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tutorials">Tutorials</a></li><li class="menu__list-item"><a href="https://dota.tools/vscripts/" target="_blank" rel="noopener noreferrer" class="menu__link">Lua API</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama/Javascript/API" target="_blank" rel="noopener noreferrer" class="menu__link">Panorama API</a></li><li class="menu__list-item"><a href="https://discord.gg/gRmZgvz" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1jis"><div class="docSidebarContainer_1kjN"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/scripting-introduction">Scripting Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Typescript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/scripting/Typescript/typescript-introduction">Typescript Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Abilities, items, modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/ability-keyvalues">Ability KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/item-keyvalues">Item KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/the-importance-of-abilityspecial-values">The importance of AbilitySpecial values</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/passing-abilityspecial-values-into-lua">Passing AbilitySpecial values into Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/abilityduration-tooltips">AbilityDuration tooltips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/simple-custom-ability">Simple Custom Ability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/creating-innate-abilities">Creating innate (available from level 1) abilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/making-any-ability-use-charges">Making any ability use charges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/calling-spells-with-setcursor">Calling Spells with SetCursor</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Lua_Abilities_and_Modifiers" tabindex="-1">Lua Abilities and Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-item-tutorial">Lua Item Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lua Modifiers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/1">Extending Hero/NPC API with lua modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/2">Linken&#x27;s Sphere &amp; Lotus Orb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/3">Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/lua-modifiers/4">Enchanting Trees</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/reutilizing-built-in-modifiers">Reutilizing Built-In Modifiers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Datadriven</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/datadriven-ability-events-modifiers">DataDriven Ability Events &amp; Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/all-about-the-target">All about the Target</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/channeling-animations">Channeling Animations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/invisibility-ability-example">Invisibility Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/illusion-ability-example">Illusion Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/rotate-ability-example">Rotate Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/point-channeling-aoe-ability-example">Point Channeling AoE Ability Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/apply-hero-and-creep-modifier-durations">Apply Hero and Creep modifier durations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/abilities/datadriven/physics-ability-example-exorcism">Physics Ability Example - Exorcism</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Units</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-keyvalues">Unit KeyValues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/unit-producing-buildings">Unit producing buildings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/creating-units-with-a-duration">Creating units with a duration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/adding-a-very-simple-ai-to-units">Adding a Very Simple AI to Units</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/simple-neutral-ai">Writing a simple AI for neutrals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/units/create-creature-attachwearable-blocks-directly-from-the-keyvalues">Create Creature AttachWearable blocks directly from the keyvalues</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Scripting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/custom-mana-system">Custom Mana System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/item-restrictions-requirements">Item Restrictions &amp; Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/item-drop-system">Item Drop System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/making-a-rpg-like-looting-chest">Making a &quot;rpg-like&quot; looting chest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/scripted-shop-spawning">Scripted Shop Spawning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/lava-damage">Lava damage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/using-dota-filters">Using the order filter and other filters</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/scripting/particle-attachment">Particle Attachment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/vector-math">Basic Vector Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/scripting/precache-fixing-and-avoiding-issues">Precache, Fixing and avoiding issues</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Nettables" tabindex="0">Custom NetTables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Panorama UI</a><ul class="menu__list"><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Panorama" tabindex="-1">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/inclusive-panorama-ui">Inclusive Panorama UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/introduction-to-panorama-ui-with-typescript">Introduction to Panorama UI with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/keybindings">Keybindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/dotascenepanel">DOTAScenePanel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/button-examples">Button Examples</a></li><li class="menu__list-item"><a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" target="_blank" rel="noreferrer noopener" class="menu__link" to="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Custom_Game_Setup" tabindex="-1">Custom Game Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/hiding-hud-with-sethudvisible">Hiding HUD with SetHUDVisible</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/webpack">Bundling scripts with webpack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/panorama/react">React in Panorama</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/asset-file-type-reference">Asset File Type Reference</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Maps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/hammer-tutorials">Hammer Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/maps/making-skip-clip-blocks-out-of-models">Making skip/clip blocks out of models</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-custom-models">Importing custom models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/mdl-to-vmdl-conversion">MDL to VMDL Conversion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/adding-hitbox-to-models-without-a-bone">Adding Hitbox to Models without a Bone</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/importing-models-and-using-material-editor">Importing models and using the material editor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/exporting-models-and-materials-textures">Exporting Models and Materials/Textures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/models/custom-hero-models-materials-animations">Custom Hero models, materials and animations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Particles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/particle-basics">Particle Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/chaos-wave-particle">Chaos Wave Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/falling-cherry-blossom-petal-for-spring-mood-particle">Falling cherry blossom petal for spring mood particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/volcano-particle">Volcano Particle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/particles/status-effects">Status Effects</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-sounds">Custom Sounds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/extracting-and-compiling-vtex-files">Extracting and Compiling VTEX files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/assets/custom-minimap-icons">Custom Minimap Icons</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/useful-console-commands">Useful Console Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/setting-up-your-addon-with-github">Setting Up Your Addon With GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tools/combining-kv-files-using-base">Combining KV files using #base</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contribute">Contribute</a></li></ul></div></div></div><main class="docMainContainer_3j_A"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div style="margin-top:-10px;margin-bottom:10px"><div class="row"><div class="col"><a href="https://github.com/ModDota/moddota.github.io/edit/source/_articles/scripting/particle-attachment.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Created on <time datetime="2015-01-13T00:00:00.000Z" class="docLastUpdatedAt_1gIo">1/13/2015</time> by <strong><a href="https://steamcommunity.com/profiles/76561198046984233">Noya</a></strong></small></em></div></div></div><header><h1 class="docTitle_cWlf">Particle Attachment</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="particle-types"></a>Particle Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#particle-types" title="Direct link to heading">#</a></h2><p>  Each particle system in Dota is designed for a certain purpose, for example: </p><ul><li>Buff/Debuff or Ambient effect</li><li>Explosions and other limited-time effects</li><li>Circle AoE Indicators</li><li>Line Indicators</li><li>Projectiles (Linear or Tracking)</li><li>Others</li></ul><p>When attempting to use some of the available particles, keep in mind what was the original behavior of it.</p><p>For example if you try to use a projectile particle as a buff, or an explosion as a projectile, you will get disastrous or just no effect at all.</p><p>You can browse particles in the asset browser, for filtering just write keywords like &quot;particle&quot; or &quot;vpcf&quot;.</p><p>Also every time you use a particle, remember to add them in a datadriven precache block on the ability:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;precache&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;particle&quot;  &quot;particles/units/heroes/hero_magnataur/magnataur_shockwave.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Else you won&#x27;t see them unless they belonged originally to the hero that is casting them.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="parents-and-childs"></a>Parents and Childs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#parents-and-childs" title="Direct link to heading">#</a></h2><p>  A Parent Particle is indicated by a P in the Asset Broswer.</p><p>  <img src="https://puu.sh/esM9P/998defaf12.jpg" alt="img"></p><p>  You normally want to use a Parent because it will show the complete particle effect. Childs are harder to display and might not show or display properly.</p><p>  <img src="https://puu.sh/esz6V/b4912e2ca5.png" alt="img"></p><p>Copy this entire path for the particleName</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="attachments"></a>Attachments<a aria-hidden="true" tabindex="-1" class="hash-link" href="#attachments" title="Direct link to heading">#</a></h2><p>  Particles need to be Attached to some entity location to begin its behavior.
This can be as easy as a single <code>&quot;Target&quot; &quot;TARGET&quot;</code> line, or contain many weird attach points that you will need to discover through numerous trial and error attempts.</p><p>  Here is a list of every attach type, in order of importance/relevance. </p><table><thead><tr><th>Constant</th><th>String</th><th>Attachment Description</th></tr></thead><tbody><tr><td>PATTACH_ABSORIGIN_FOLLOW</td><td>follow_origin</td><td>Follows the movement of the target at its origin location</td></tr><tr><td>PATTACH_OVERHEAD_FOLLOW</td><td>follow_overhead</td><td>Follows the movement of the target over its head</td></tr><tr><td>PATTACH_ABSORIGIN</td><td>attach_origin</td><td>Starts at the origin of the target and stays there</td></tr><tr><td>PATTACH_POINT</td><td>attach_hitloc</td><td>Normally the body of the model, where the attack projectiles hit</td></tr><tr><td>PATTACH_POINT_FOLLOW</td><td>follow_hitloc</td><td>Follows the body</td></tr><tr><td>PATTACH_CUSTOMORIGIN</td><td>start_at_customorigin</td><td>Enables the attachment to a custom origin</td></tr><tr><td>PATTACH_CUSTOMORIGIN_FOLLOW</td><td>follow_customorigin</td><td>Follow the movement of the custom origin set</td></tr><tr><td>PATTACH_WORLDORIGIN</td><td>world_origin</td><td>Targets a Point entity in the world, use with &quot;TargetPoint&quot; key</td></tr><tr><td>PATTACH_EYES_FOLLOW</td><td>follow_eyes</td><td>Fills the screen, used for the damage stun or arcana drop indicator.</td></tr><tr><td>PATTACH_POINT_FOLLOW_SUBSTEPPED</td><td>follow_attachment_substepped</td><td></td></tr><tr><td>PATTACH_RENDERORIGIN_FOLLOW</td><td>follow_renderorigin</td><td></td></tr><tr><td>PATTACH_ROOTBONE_FOLLOW</td><td>follow_rootbone</td><td></td></tr><tr><td>Attach to an specific bone</td><td>attach_attack1</td><td>You can check these by opening the hero VMDL file in the Model Editor.</td></tr><tr><td>-</td><td>start_at_origin</td><td></td></tr><tr><td>-</td><td>start_at_attachment</td><td></td></tr><tr><td>-</td><td>follow_attachment</td><td></td></tr></tbody></table><p>  Basically the engine will try to find the &quot;bone&quot; or attach point and type of the constant/string used,
if the model has it and the particle is designed to properly attach to that point you will get a nice behavior. </p><p>  Numerous times when dealing with complex particle systems you will get errors like:</p><ul><li>Particle childs showing at the Vector (0,0,0). <ul><li>This is what normally happens when you miss a Control Point (explained later)</li></ul></li><li>Effect appearing in a different position than expected. <ul><li>Wrong attachment or particle can&#x27;t attach that place.</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="control-points"></a>Control Points<a aria-hidden="true" tabindex="-1" class="hash-link" href="#control-points" title="Direct link to heading">#</a></h2><p>  Control points are x,y,z values that are used to set the particle to a target entity location or a vector for radius, color, duration, speed, etc.</p><p>  It&#x27;s easier to understand them with examples, so we&#x27;ll move through some basic particles that don&#x27;t need specific control points and then see some that need them to display properly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="decompiled-particles"></a>Decompiled Particles<a aria-hidden="true" tabindex="-1" class="hash-link" href="#decompiled-particles" title="Direct link to heading">#</a></h3><p>With Reborn, now the default dota particles can be opened directly with the Particle Editor and make copies of them. Read more about this on the wiki in <a href="https://developer.valvesoftware.com/wiki/Dota_2_Workshop_Tools/Particle_Copy_Tool" target="_blank" rel="noopener noreferrer">Particle Copy Tool</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="examples"></a>Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="1-simple-buff-particles-datadriven"></a>1. Simple buff particles, datadriven<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-simple-buff-particles-datadriven" title="Direct link to heading">#</a></h3><p>This type of particles is the easiest to attach. They are tied to a modifier and automatically stop after the modifier is destroyed.</p><p>For this to, the particle system duration usually needs to be infinite, designed as a simple buff, internally they have a single control point which is set with the <code>EffectAttachType</code> key.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_borrowed_time&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_abaddon/abaddon_borrowed_time.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;StatusEffectName&quot; &quot;particles/status_fx/status_effect_abaddon_borrowed_time.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;StatusEffectPriority&quot; &quot;15&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Status Effects are a particular type of particle that is generally applied to change the texture color of the hero, for things like illusions, ghosts, etc.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="2-basic-attachment"></a>2. Basic attachment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-basic-attachment" title="Direct link to heading">#</a></h3><p>When you want more than one particle attached to a modifier or the particle needs additional control points, you need to do it in a <code>&quot;FireEffect&quot;</code> or <code>&quot;AttachEffect&quot;</code> block instead.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_stampede&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;OnCreated&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;EffectName&quot; &quot;particles/units/heroes/hero_centaur/centaur_stampede_overhead.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;EffectAttachType&quot; &quot;follow_overhead&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Target&quot; &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><code>&quot;Target&quot;</code> uses the same target rules as any datadriven block</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="3-control-points"></a>3. Control Points<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-control-points" title="Direct link to heading">#</a></h3><p>When the easy attachment procedure fails, it means the particle has Control Points to control certain properties like radius, position of multiple elements, color, etc.</p><p>To know what each CP controls, you need to open the particle in the Particle Editor. Now you will be able to double click any of the copied particles in the Asset Browser and try to understand how to set each CP</p><p>Control Points can be either set in the datadriven <code>&quot;AttachEffect&quot;</code> or in lua.
Doing it in Lua has the advantage that you can dynamically reload the control points by doing script_reload after changing the code.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="31-lua-particle-attachment-with-setparticlecontrol"></a>3.1 Lua Particle Attachment with <code>SetParticleControl</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#31-lua-particle-attachment-with-setparticlecontrol" title="Direct link to heading">#</a></h4><p><strong>Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">local particle = ParticleManager:CreateParticle(&quot;particles/units/heroes/hero_omniknight/omniknight_purification.vpcf&quot;, PATTACH_ABSORIGIN_FOLLOW, target)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(particle, 0, target:GetAbsOrigin())</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(particle, 1, Vector(particle_radius,0,0))</span></div></div></div></div></div><p>CP0 is not really needed (because this type of attachment already sets the particle to follow the AbsOrigin) but its nice to have.</p><p>CP1.x controls the radius of the particle, as seen in the Particle Editor after playing around with the values</p><p><img src="https://puu.sh/esEVP/9c852a02ca.png" alt="img"></p><p>Hovering over the button tells us its a &quot;Position along ring&quot; </p><p><strong>Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">local target = event.unit</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local player = PlayerResource:GetPlayer( caster:GetPlayerID() )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local particleName = &quot;particles/units/heroes/hero_alchemist/alchemist_lasthit_coins.vpcf&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">local particle = ParticleManager:CreateParticleForPlayer( particleName, PATTACH_ABSORIGIN, target, player )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl( particle, 0, target:GetAbsOrigin() )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl( particle, 1, target:GetAbsOrigin() )</span></div></div></div></div></div><p>In this particular case, we are using <code>CreateParticleForPlayer</code> to only display it to one particular player. Could also use PATTACH_OVERHEAD_FOLLOW</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="32-datadriven-controlpoints-block"></a>3.2 Datadriven <code>&quot;ControlPoints&quot;</code> block<a aria-hidden="true" tabindex="-1" class="hash-link" href="#32-datadriven-controlpoints-block" title="Direct link to heading">#</a></h4><p>The same can be translated to datadriven, except if you need the control points to be decided at runtime (like, doing a radius * some variable)</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Target&quot; &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_omniknight/omniknight_purification.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;ControlPoints&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;00&quot; &quot;0 0 0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;01&quot; &quot;%radius %radius %radius&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>Keep in mind that a <code>&quot;FireEffect&quot;</code> or <code>&quot;AttachEffect&quot;</code> action can be inside any Ability or Modifier Event, not only on the <code>&quot;OnCreated&quot;</code> / <code>&quot;OnDestroy&quot;</code> Modifier Events.</p><p><strong>Example:</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnSpellStart&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectName&quot;       &quot;particles/units/heroes/hero_lina/lina_spell_light_strike_array_ray_team.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;start_at_customorigin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;TargetPoint&quot;      &quot;POINT&quot; //This also works with world_origin</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPoints&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;01&quot; &quot;%light_strike_array_aoe 0 0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;03&quot; &quot;0 0 0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="4-control-point-entities"></a>4. Control Point Entities<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-control-point-entities" title="Direct link to heading">#</a></h3><p>Some times, particle attach points can get even more complicated when they need to be attached on specific locations or entities.
If your attachment is not working with the simple lua method, you need to try the next level of control point setup, the <strong>Control Point Entities</strong>, in either Lua or Keyvalues.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="41-lua-setparticlecontrolent"></a>4.1 Lua <code>SetParticleControlEnt</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#41-lua-setparticlecontrolent" title="Direct link to heading">#</a></h4><p><strong>Example</strong>: This is the proper lua attachment for Abaddon Aphotic Shield Particle:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">target.ShieldParticle = ParticleManager:CreateParticle(&quot;particles/units/heroes/hero_abaddon/abaddon_aphotic_shield.vpcf&quot;, PATTACH_ABSORIGIN_FOLLOW, target)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(target.ShieldParticle, 1, Vector(shield_size,0,shield_size))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(target.ShieldParticle, 2, Vector(shield_size,0,shield_size))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(target.ShieldParticle, 4, Vector(shield_size,0,shield_size))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControl(target.ShieldParticle, 5, Vector(shield_size,0,0))</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">ParticleManager:SetParticleControlEnt(target.ShieldParticle, 0, target, PATTACH_POINT_FOLLOW, &quot;attach_hitloc&quot;, target:GetAbsOrigin(), true)</span></div></div></div></div></div><p>PATTACH_POINT_FOLLOW puts the particle at the targets body in this case. PATTACH_ABSORIGIN_FOLLOW will put it at its feet, and PATTACH_OVERHEAD_FOLLOW at its head.</p><p>Note the partice being defined under the <code>target.</code> handle, this is because we will need to destroy it later in Lua, becase attaching a particle this way
will not stop the particle effect by itself after the modifier is destroyed, as we are just tying the particle to a target.
This is not a concern if the particle is meant for a short duration (unlike the buff particles that last forever until removed)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="42-datadriven-controlpointentities"></a>4.2 DataDriven <code>&quot;ControlPointEntities&quot;</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#42-datadriven-controlpointentities" title="Direct link to heading">#</a></h4><p>This works by setting each CP in order to its key. If you need to set the CP8 to a Targets hitloc, you <strong>need</strong> 8 &quot;TARGET&quot; (or &quot;CASTER&quot; or anything) lines.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_aphotic_shield&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;OnDestroy&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">             &quot;EffectName&quot; &quot;particles/units/heroes/hero_abaddon/abaddon_aphotic_shield_explosion.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">             &quot;EffectAttachType&quot; &quot;follow_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">             &quot;Target&quot; &quot;UNIT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">             &quot;ControlPointEntities&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;TARGET&quot; &quot;attach_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;TARGET&quot; &quot;attach_origin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>Example 2</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;modifier_return&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Passive&quot; &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;OnAttacked&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;RunScript&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;ScriptFile&quot; &quot;heroes/hero_centaur/return.lua&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Function&quot; &quot;Return&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;EffectName&quot; &quot;particles/units/heroes/hero_centaur/centaur_return.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;EffectAttachType&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;Target&quot; &quot;CASTER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;ControlPointEntities&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;CASTER&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                &quot;ATTACKER&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    } </span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>Example 3</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;OnProjectileHitUnit&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FireEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_alchemist/alchemist_unstable_concoction_explosion.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;EffectAttachType&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;Target&quot; &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;ControlPointEntities&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot; &quot;attach_hitloc&quot; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            &quot;TARGET&quot; &quot;attach_hitloc&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        } </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>Example 4</strong></p><p>Custom bones!</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;AttachEffect&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Target&quot; &quot;CASTER&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_kunkka/kunkka_weapon_tidebringer.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectAttachType&quot; &quot;start_at_customorigin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;ControlPointEntities&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;CASTER&quot; &quot;attach_sword&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;CASTER&quot; &quot;attach_sword&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;CASTER&quot; &quot;attach_sword&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p>ControlPointEntities is the hardest method of Particle Attachment. Use it with caution and pride.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="5-stopping-a-lua-particle"></a>5. Stopping a Lua Particle<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-stopping-a-lua-particle" title="Direct link to heading">#</a></h3><p>If the entity dies, it will normally destroy the particle.</p><p>To stop something like we created in the Aphotic Shield example, add a <code>&quot;OnDestroy&quot;</code> of the modifier with a RunScript that calls something like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">function EndShieldParticle( event )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local target = event.target</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    target:EmitSound(&quot;Hero_Abaddon.AphoticShield.Destroy&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ParticleManager:DestroyParticle(target.ShieldParticle,false)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div><p>If the particle has a fixed duration you can also easily use BMD Timers:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Timers:CreateTimer(duration, function() </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ParticleManager:DestroyParticle(particle,false))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="6-difference-between-fireeffect-and-attacheffect"></a>6. Difference between &quot;FireEffect&quot; and &quot;AttachEffect&quot;<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-difference-between-fireeffect-and-attacheffect" title="Direct link to heading">#</a></h3><p>When used inside a modifier, <em>AttachEffect</em> will automatically stop the particle after the modifier is destroyed, while <em>FireEffect</em> won&#x27;t (if the particle duration is infinite)</p><p>FireEffect is pretty much the same as doing the lua <code>ParticleManager:CreateParticle</code> in this sense.</p><p>So if you FireEffect with a particle of infinite duration inside a modifier, it will still live after the modifier ends.</p><p>If the particle duration has a short duration, using any of the 2 Effect actions has the same results.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="7-projectile-particles"></a>7. Projectile Particles<a aria-hidden="true" tabindex="-1" class="hash-link" href="#7-projectile-particles" title="Direct link to heading">#</a></h3><p>There are two types of projectile particles: Linear and Tracking. </p><p>Linear follow a straight line and collide with anything in its path.
Use <code>&quot;DeleteOnHit&quot; &quot;0&quot;</code> inside the <code>&quot;OnProjectileHitUnit&quot;</code> Ability Event if you want them to continue going up to its fixed distance.</p><p>Tracking can curve and follow a target movement. Every ranged attack particle is of this type.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="linearprojectile"></a>LinearProjectile<a aria-hidden="true" tabindex="-1" class="hash-link" href="#linearprojectile" title="Direct link to heading">#</a></h4><p><strong>DataDriven Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;LinearProjectile&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Target&quot; &quot;POINT&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_nyx_assassin/nyx_assassin_impale.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;StartRadius&quot; &quot;%width&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EndRadius&quot; &quot;%width&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;MoveSpeed&quot; &quot;%speed&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;TargetTeams&quot; &quot;DOTA_UNIT_TARGET_TEAM_ENEMY&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;TargetTypes&quot; &quot;DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;TargetFlags&quot; &quot;DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;FixedDistance&quot; &quot;%length&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;ProvidesVision&quot; &quot;0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;HasFrontalCone&quot; &quot;0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>Lua Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">--[[</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Author: kritth</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Date: 10.01.2015</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Start traversing the ship</span></div><div class="token-line" style="color:#393A34"><span class="token plain">]]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">function ghostship_start_traverse( keys )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local ability = keys.ability</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local casterPoint = caster:GetAbsOrigin()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local targetPoint = keys.target_points[1]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local spawnDistance = ability:GetLevelSpecialValueFor( &quot;ghostship_distance&quot;, ability:GetLevel() - 1 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local projectileSpeed = ability:GetLevelSpecialValueFor( &quot;ghostship_speed&quot;, ability:GetLevel() - 1 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  local radius = ability:GetLevelSpecialValueFor( &quot;ghostship_width&quot;, ability:GetLevel() - 1 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Get necessary vectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local forwardVec = targetPoint - casterPoint</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            forwardVec = forwardVec:Normalized()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local backwardVec = casterPoint - targetPoint</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            backwardVec = backwardVec:Normalized()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local spawnPoint = casterPoint + ( spawnDistance * backwardVec )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local impactPoint = casterPoint + ( spawnDistance * forwardVec )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local velocityVec = Vector( forwardVec.x, forwardVec.y, 0 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    -- Spawn projectile</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local projectileTable = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Ability = ability,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        EffectName = &quot;particles/units/heroes/hero_kunkka/kunkka_ghost_ship.vpcf&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        vSpawnOrigin = spawnPoint,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        fDistance = spawnDistance * 2,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        fStartRadius = radius,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        fEndRadius = radius,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        fExpireTime = GameRules:GetGameTime() + 5,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Source = caster,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bHasFrontalCone = false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bReplaceExisting = false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bProvidesVision = false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iUnitTargetTeam = targetBuffTeam,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iUnitTargetType = targetType,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        vVelocity = velocityVec * projectileSpeed</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ProjectileManager:CreateLinearProjectile( projectileTable )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">end</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="trackingprojectile"></a>TrackingProjectile<a aria-hidden="true" tabindex="-1" class="hash-link" href="#trackingprojectile" title="Direct link to heading">#</a></h4><p><strong>DataDriven Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&quot;TrackingProjectile&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Target&quot; &quot;TARGET&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;EffectName&quot; &quot;particles/units/heroes/hero_alchemist/alchemist_unstable_concoction_projectile.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;Dodgeable&quot; &quot;0&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;ProvidesVision&quot; &quot;1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;VisionRadius&quot; &quot;%vision_range&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;MoveSpeed&quot; &quot;%movement_speed&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;SourceAttachment&quot; &quot;DOTA_PROJECTILE_ATTACHMENT_ATTACK_1&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div></div></div><p><strong>Lua Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-lua codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">local projectile_speed = ability:GetSpecialValueFor( &quot;projectile_speed&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">local particle_name = &quot;particles/units/heroes/hero_abaddon/abaddon_death_coil.vpcf&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-- Create the projectile</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    local info = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Target = target,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Source = caster,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Ability = ability,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        EffectName = particle_name,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bDodgeable = false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bProvidesVision = true,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iMoveSpeed = projectile_speed,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iVisionRadius = 0,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iVisionTeamNumber = caster:GetTeamNumber(),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        iSourceAttachment = DOTA_PROJECTILE_ATTACHMENT_ATTACK_1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ProjectileManager:CreateTrackingProjectile( info )</span></div></div></div></div></div><br><p><strong>Note</strong>: You can&#x27;t generally use a particle designed to be Linear in a Tracking action and vice versa. </p><p>You might be able to mimic a Linear behavior using a Tracking projectile if you make it to track a dummy unit that can&#x27;t move, but you need another invisible Linear projectile to do the hit effects.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/scripting/using-dota-filters"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Using the order filter and other filters</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/scripting/vector-math"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Basic Vector Math </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#particle-types" class="table-of-contents__link">Particle Types</a></li><li><a href="#parents-and-childs" class="table-of-contents__link">Parents and Childs</a></li><li><a href="#attachments" class="table-of-contents__link">Attachments</a></li><li><a href="#control-points" class="table-of-contents__link">Control Points</a><ul><li><a href="#decompiled-particles" class="table-of-contents__link">Decompiled Particles</a></li></ul></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#1-simple-buff-particles-datadriven" class="table-of-contents__link">1. Simple buff particles, datadriven</a></li><li><a href="#2-basic-attachment" class="table-of-contents__link">2. Basic attachment</a></li><li><a href="#3-control-points" class="table-of-contents__link">3. Control Points</a></li><li><a href="#4-control-point-entities" class="table-of-contents__link">4. Control Point Entities</a></li><li><a href="#5-stopping-a-lua-particle" class="table-of-contents__link">5. Stopping a Lua Particle</a></li><li><a href="#6-difference-between-fireeffect-and-attacheffect" class="table-of-contents__link">6. Difference between &quot;FireEffect&quot; and &quot;AttachEffect&quot;</a></li><li><a href="#7-projectile-particles" class="table-of-contents__link">7. Projectile Particles</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/styles.3ddff82c.js"></script>
<script src="/runtime~main.664ba720.js"></script>
<script src="/main.cd2666c9.js"></script>
<script src="/1.121d2a65.js"></script>
<script src="/2.37db2c14.js"></script>
<script src="/1be78505.25cc5caf.js"></script>
<script src="/ec1ed54d.b1d23cdd.js"></script>
<script src="/0bf7c9ac.0c1fde3e.js"></script>
</body>
</html>